(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{31:function(t,a,e){},36:function(t,a,e){"use strict";e.r(a);var r,n,o=e(1),i=e.n(o),l=e(26),c=e.n(l),u=(e(31),e(3)),s=e(4),f=e(0),d=e(6),b=e(12),v=e.n(b),h=e(19);!function(t){t[t.King=0]="King",t[t.Queen=1]="Queen",t[t.Rook=2]="Rook",t[t.Bishop=3]="Bishop",t[t.Knight=4]="Knight",t[t.Pawn=5]="Pawn"}(r||(r={})),function(t){t[t.White=0]="White",t[t.Black=1]="Black"}(n||(n={}));for(var p=e(9),S=e(13),g=e(5),k=e(10),m=[8,-8,-1,1,7,-7,9,-9],y=[15,17,-17,-15,10,-6,6,-10],O=[[]],j=[],q=[[]],w=[[]],x=[],P=[],M=[[]],B=[[]],W=function(t){var a=Math.floor(t/8),e=t-8*a,r=7-a,n=a,o=e,i=7-e;O[t]=[],O[t][0]=r,O[t][1]=n,O[t][2]=o,O[t][3]=i,O[t][4]=Math.min(r,o),O[t][5]=Math.min(n,i),O[t][6]=Math.min(r,i),O[t][7]=Math.min(n,o);for(var l=[],c=0;c<4;c++)for(var u=m[c],s=0;s<O[t][c];s++){var f=t+u*(s+1);l.push(f)}j[t]=l;for(var d=[],b=4;b<8;b++)for(var v=m[b],h=0;h<O[t][b];h++){var p=t+v*(h+1);d.push(p)}q[t]=d;for(var S=[],g=0;g<8;g++)for(var k=m[g],W=0;W<O[t][g];W++){var K=t+k*(W+1);S.push(K)}w[t]=S;var R=[];m.forEach((function(r){var n=t+r;if(n>=0&&n<64){var o=Math.floor(n/8),i=n-8*o;1===Math.max(Math.abs(e-i),Math.abs(a-o))&&R.push(n)}})),x[t]=R;var I=[];y.forEach((function(r){var n=t+r;if(n>=0&&n<64){var o=Math.floor(n/8),i=n-8*o;2===Math.max(Math.abs(e-i),Math.abs(a-o))&&I.push(n)}})),P[t]=I;var L=[],E=[];e>0&&(a<7&&L.push(t+7),a>0&&E.push(t-9)),e<7&&(a<7&&L.push(t+9),a>0&&E.push(t-7)),M[t]=L,B[t]=E},K=0;K<64;K++)W(K);var R,I,L,E,C,_,Q,D,N=[0,0,0,0,0,0,0,0,50,50,50,50,50,50,50,50,10,10,20,30,30,20,10,10,5,5,10,25,25,10,5,5,0,0,0,20,20,0,0,0,5,-5,-10,0,0,-10,-5,5,5,10,10,-20,-20,10,10,5,0,0,0,0,0,0,0,0],T=[].concat(N).reverse(),Y=[-50,-40,-30,-30,-30,-30,-40,-50,-40,-20,0,0,0,0,-20,-40,-30,0,10,15,15,10,0,-30,-30,5,15,20,20,15,5,-30,-30,0,15,20,20,15,0,-30,-30,5,10,15,15,10,5,-30,-40,-20,0,5,5,0,-20,-40,-50,-40,-30,-30,-30,-30,-40,-50],z=[].concat(Y).reverse(),F=[-20,-10,-10,-10,-10,-10,-10,-20,-10,0,0,0,0,0,0,-10,-10,0,5,10,10,5,0,-10,-10,5,5,10,10,5,5,-10,-10,0,10,10,10,10,0,-10,-10,10,10,10,10,10,10,-10,-10,5,0,0,0,0,5,-10,-20,-10,-10,-10,-10,-10,-10,-20],V=[].concat(F).reverse(),A=[0,0,0,0,0,0,0,0,5,10,10,10,10,10,10,5,-5,0,0,0,0,0,0,-5,-5,0,0,0,0,0,0,-5,-5,0,0,0,0,0,0,-5,-5,0,0,0,0,0,0,-5,-5,0,0,0,0,0,0,-5,0,0,0,5,5,0,0,0],J=[].concat(A).reverse(),U=[-20,-10,-10,-5,-5,-10,-10,-20,-10,0,0,0,0,0,0,-10,-10,0,5,5,5,5,0,-10,-5,0,5,5,5,5,0,-5,0,0,5,5,5,5,0,-5,-10,5,5,5,5,5,0,-10,-10,0,5,0,0,0,0,-10,-20,-10,-10,-5,-5,-10,-10,-20],G=[].concat(U).reverse(),H=[-30,-40,-40,-50,-50,-40,-40,-30,-30,-40,-40,-50,-50,-40,-40,-30,-30,-40,-40,-50,-50,-40,-40,-30,-30,-40,-40,-50,-50,-40,-40,-30,-20,-30,-30,-40,-40,-30,-30,-20,-10,-20,-20,-20,-20,-20,-20,-10,20,20,0,0,0,0,20,20,20,30,10,0,0,10,30,20],X=[].concat(H).reverse(),Z=function(t){var a=[],e=t.boardState.map((function(t,a){return[t,a]}));e=e.filter((function(a){var e=Object(s.a)(a,2),r=e[0];e[1];return(null===r||void 0===r?void 0:r.color)===t.currentPlayer}));var o=[8,-8,-1,1,7,-7,9,-9];return e.forEach((function(e){var i=Object(s.a)(e,2),l=i[0],c=i[1];switch(null===l||void 0===l?void 0:l.type){case r.Rook:for(var u=0;u<4;u++)for(var f=o[u],d=0;d<O[c][u];d++){var b,v,h=c+f*(d+1);if((null===(b=t.boardState[h])||void 0===b?void 0:b.color)===(null===l||void 0===l?void 0:l.color))break;if(a.push({fromSquare:c,toSquare:h}),null!=t.boardState[h]&&(null===(v=t.boardState[h])||void 0===v?void 0:v.color)!==(null===l||void 0===l?void 0:l.color))break}break;case r.Bishop:for(var p=4;p<8;p++)for(var S=o[p],m=0;m<O[c][p];m++){var y,j,q=c+S*(m+1);if((null===(y=t.boardState[q])||void 0===y?void 0:y.color)===(null===l||void 0===l?void 0:l.color))break;if(a.push({fromSquare:c,toSquare:q}),null!=t.boardState[q]&&(null===(j=t.boardState[q])||void 0===j?void 0:j.color)!==(null===l||void 0===l?void 0:l.color))break}break;case r.Queen:for(var w=0;w<8;w++)for(var W=o[w],K=0;K<O[c][w];K++){var R,I,L=c+W*(K+1);if((null===(R=t.boardState[L])||void 0===R?void 0:R.color)===t.currentPlayer)break;if(a.push({fromSquare:c,toSquare:L}),null!=t.boardState[L]&&(null===(I=t.boardState[L])||void 0===I?void 0:I.color)!==t.currentPlayer)break}break;case r.Knight:P[c].forEach((function(e){var r;(null===(r=t.boardState[e])||void 0===r?void 0:r.color)!==t.currentPlayer&&a.push({fromSquare:c,toSquare:e})}));break;case r.King:var E,C=Object(k.a)(x[c]),_=tt(t),Q=Object(g.a)(_);try{for(Q.s();!(E=Q.n()).done;){var D,N=E.value,T=Object(g.a)(C);try{for(T.s();!(D=T.n()).done;){var Y=D.value;Y===N&&C.splice(C.indexOf(Y),1)}}catch(U){T.e(U)}finally{T.f()}}}catch(U){Q.e(U)}finally{Q.f()}C.forEach((function(e){var r;(null===(r=t.boardState[e])||void 0===r?void 0:r.color)!==(null===l||void 0===l?void 0:l.color)&&a.push({fromSquare:c,toSquare:e})}));var z=t.currentPlayer===n.White?t.castlingRights.whiteShort:t.castlingRights.blackShort,F=t.currentPlayer===n.White?t.castlingRights.whiteLong:t.castlingRights.blackLong;z&&(null!=t.boardState[c+1]||null!=t.boardState[c+2]||_.includes(c+1)||_.includes(c+2)||a.push({fromSquare:c,toSquare:c+2})),F&&(null!=t.boardState[c-1]||null!=t.boardState[c-2]||_.includes(c-1)||_.includes(c-2)||a.push({fromSquare:c,toSquare:c-2}));break;case r.Pawn:var V=l.color===n.White?c+8:c-8;V>=0&&V<64&&null==t.boardState[V]&&a.push({fromSquare:c,toSquare:V});var A=l.color===n.White?c+16:c-16,J=l.color===n.White?1:6;Math.floor(c/8)===J&&null==t.boardState[V]&&null==t.boardState[A]&&a.push({fromSquare:c,toSquare:A});(l.color===n.White?M[c]:B[c]).forEach((function(e){var r;(null===(r=t.boardState[e])||void 0===r?void 0:r.color)!==t.currentPlayer&&null!=t.boardState[e]&&a.push({fromSquare:c,toSquare:e})}))}})),a},$=function(t){var a=Z(t),e=[],n=et(t);if(n.length>0)if(1==n.length){var o,i,l=a.filter((function(a){var e;return(null===(e=t.boardState[a.fromSquare])||void 0===e?void 0:e.type)===r.King})),c=a.filter((function(a){return a.toSquare===t.boardState.indexOf(n[0])}));if(lt(n[0].type)){var u,s=rt(n[0],t),f=a.filter((function(t){return s.includes(t.toSquare)}));(u=e).push.apply(u,Object(k.a)(f))}(o=e).push.apply(o,Object(k.a)(l)),(i=e).push.apply(i,Object(k.a)(c))}else e=a.filter((function(a){var e;return(null===(e=t.boardState[a.fromSquare])||void 0===e?void 0:e.type)===r.King}));else{e=a;var d,b=t.boardState.filter((function(a){return a&&a.color!==t.currentPlayer&&lt(a.type)})).map((function(a){return{attackerSquare:t.boardState.indexOf(a),ray:rt(a,t)}})),v=Object(g.a)(b);try{var h=function(){var a=d.value,r=0,n=void 0;(a.ray.forEach((function(a){var e;(null===(e=t.boardState[a])||void 0===e?void 0:e.color)===t.currentPlayer&&1==++r&&(n=a)})),2==r)&&e.filter((function(t){return t.fromSquare==n})).filter((function(t){return!a.ray.includes(t.toSquare)&&t.toSquare!==a.attackerSquare})).forEach((function(t){e.splice(e.indexOf(t),1)}))};for(v.s();!(d=v.n()).done;)h()}catch(p){v.e(p)}finally{v.f()}}return e},tt=function(t){var a=[],e=t.currentPlayer===n.White?n.Black:n.White;return t.boardState.filter((function(t){return null!=t&&(null===t||void 0===t?void 0:t.color)===e})).map((function(t){return t})).forEach((function(e){a.push.apply(a,Object(k.a)(at(t,e,t.boardState.indexOf(e))))})),a},at=function(t,a,e){var o=[],i=[8,-8,-1,1,7,-7,9,-9];switch(null===a||void 0===a?void 0:a.type){case r.Rook:for(var l=0;l<4;l++)for(var c=i[l],u=0;u<O[e][l];u++){var s,f,d,b=e+c*(u+1);if(o.push(b),(null===(s=t.boardState[b])||void 0===s?void 0:s.color)===(null===a||void 0===a?void 0:a.color))break;if(null!=t.boardState[b]&&(null===(f=t.boardState[b])||void 0===f?void 0:f.color)!==(null===a||void 0===a?void 0:a.color)&&(null===(d=t.boardState[b])||void 0===d?void 0:d.type)!==r.King)break}break;case r.Bishop:for(var v=4;v<8;v++)for(var h=i[v],p=0;p<O[e][v];p++){var S,g,m,y=e+h*(p+1);if(o.push(y),(null===(S=t.boardState[y])||void 0===S?void 0:S.color)===(null===a||void 0===a?void 0:a.color))break;if(null!=t.boardState[y]&&(null===(g=t.boardState[y])||void 0===g?void 0:g.color)!==(null===a||void 0===a?void 0:a.color)&&(null===(m=t.boardState[y])||void 0===m?void 0:m.type)!==r.King)break}break;case r.Queen:for(var j=0;j<8;j++)for(var q=i[j],w=0;w<O[e][j];w++){var W,K,R,I=e+q*(w+1);if(o.push(I),(null===(W=t.boardState[I])||void 0===W?void 0:W.color)===(null===a||void 0===a?void 0:a.color))break;if(null!=t.boardState[I]&&(null===(K=t.boardState[I])||void 0===K?void 0:K.color)!==(null===a||void 0===a?void 0:a.color)&&(null===(R=t.boardState[I])||void 0===R?void 0:R.type)!==r.King)break}break;case r.Knight:P[e].forEach((function(t){o.push(t)}));break;case r.Pawn:(a.color===n.White?M[e]:B[e]).forEach((function(t){o.push(t)}));break;case r.King:Object(k.a)(x[e]).forEach((function(t){o.push(t)}))}return o},et=function(t){var a,e=[],o=t.boardState.indexOf(t.boardState.find((function(a){return(null===a||void 0===a?void 0:a.type)==r.King&&(null===a||void 0===a?void 0:a.color)==t.currentPlayer}))),i=t.currentPlayer===n.White?n.Black:n.White,l=t.boardState.filter((function(t){return null!=t&&(null===t||void 0===t?void 0:t.color)===i})).map((function(t){return t})),c=Object(g.a)(l);try{for(c.s();!(a=c.n()).done;){var u,s=a.value,f=at(t,s,t.boardState.indexOf(s)),d=Object(g.a)(f);try{for(d.s();!(u=d.n()).done;){u.value===o&&e.push(s)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}return e},rt=function(t,a){for(var e=[],n=a.boardState.indexOf(t),o=[8,-8,-1,1,7,-7,9,-9],i=t.type===r.Bishop?4:0,l=t.type===r.Rook?4:8,c=i;c<l;c++){for(var u=o[c],s=!1,f=[],d=0;d<O[n][c];d++){var b,v,h,p=n+u*(d+1);if((null===(b=a.boardState[p])||void 0===b?void 0:b.color)===(null===t||void 0===t?void 0:t.color))break;if(f.push(p),null!=a.boardState[p]&&(null===(v=a.boardState[p])||void 0===v?void 0:v.color)!==(null===t||void 0===t?void 0:t.color)&&(null===(h=a.boardState[p])||void 0===h?void 0:h.type)===r.King){s=!0;break}}if(s){e=[].concat(f);break}}return e},nt=function(t,a){var e,o,i,l,c=Object(k.a)(t.boardState),u=Object(S.a)({},t.castlingRights),s=t.currentPlayer,f=null,d=t.halfMoveClock,b=t.fullMoves,v=c[a.fromSquare];c[a.fromSquare]=null,c[a.toSquare]=v;var h,p=!1;if(null!=t.boardState[a.toSquare]&&(p=!0),(null===(e=t.boardState[a.fromSquare])||void 0===e?void 0:e.type)===r.King){var g=ot(a);if(g){var m=c[g.fromSquare];c[g.fromSquare]=null,c[g.toSquare]=m}t.currentPlayer===n.White?(u.whiteShort=!1,u.whiteLong=!1):(u.blackShort=!1,u.blackLong=!1)}((null===(o=t.boardState[a.fromSquare])||void 0===o?void 0:o.type)===r.Rook&&(t.currentPlayer===n.White?0===a.fromSquare?u.whiteLong=!1:7===a.fromSquare&&(u.whiteShort=!1):56===a.fromSquare?u.blackLong=!1:63===a.fromSquare&&(u.blackShort=!1)),(null===(i=t.boardState[a.toSquare])||void 0===i?void 0:i.type)===r.Rook)&&((null===(h=t.boardState[a.toSquare])||void 0===h?void 0:h.color)===n.White?0===a.toSquare?u.whiteLong=!1:7===a.toSquare&&(u.whiteShort=!1):56===a.toSquare?u.blackLong=!1:63===a.toSquare&&(u.blackShort=!1));if(it(a,t.boardState)?t.currentPlayer==n.Black&&(c=ct(Object(S.a)(Object(S.a)({},t),{},{boardState:c}),a.toSquare,r.Queen).boardState,s=n.White,b++):t.currentPlayer===n.White?s=n.Black:(s=n.White,b++),(null===(l=t.boardState[a.fromSquare])||void 0===l?void 0:l.type)===r.Pawn){var y;if(2===Math.abs(Math.floor(a.fromSquare/8)-Math.floor(a.toSquare/8)))f=a.toSquare+8*((null===(y=t.boardState[a.fromSquare])||void 0===y?void 0:y.color)===n.White?-1:1);p=!0}return!1===p?d++:d=0,{boardState:c,castlingRights:u,currentPlayer:s,enPassantSquare:f,halfMoveClock:d,fullMoves:b}},ot=function(t){return t.toSquare===t.fromSquare+2?{fromSquare:t.toSquare+1,toSquare:t.toSquare-1}:t.toSquare===t.fromSquare-2?{fromSquare:t.toSquare-2,toSquare:t.toSquare+1}:void 0},it=function(t,a){var e;if((null===(e=a[t.fromSquare])||void 0===e?void 0:e.type)==r.Pawn){var o,i;if((null===(o=a[t.fromSquare])||void 0===o?void 0:o.color)==n.White&&7==Math.floor(t.toSquare/8))return!0;if((null===(i=a[t.fromSquare])||void 0===i?void 0:i.color)==n.Black&&0==Math.floor(t.toSquare/8))return!0}return!1},lt=function(t){return t===r.Bishop||t===r.Rook||t===r.Queen},ct=function(t,a,e){var r=Object(k.a)(t.boardState),o=t.currentPlayer,i=t.fullMoves;return null!=r[a]&&(r[a]={color:r[a].color,type:e}),t.currentPlayer===n.White?o=n.Black:(o=n.White,i++),Object(S.a)(Object(S.a)({},t),{},{boardState:r,currentPlayer:o,fullMoves:i})},ut=function(t){var a,e,o,i=[],l={whiteShort:!1,whiteLong:!1,blackShort:!1,blackLong:!1},c=null,u=function(t){switch(t.toLowerCase()){case"p":return r.Pawn;case"r":return r.Rook;case"n":return r.Knight;case"b":return r.Bishop;case"q":return r.Queen;case"k":default:return r.King}},s=t.split(" "),f=s[0],d=0,b=7,v=Object(g.a)(f);try{for(v.s();!(o=v.n()).done;){var h=o.value;if("/"===h)d=0,b--;else if(isNaN(parseInt(h))){var p={type:u(h),color:h===h.toUpperCase()?n.White:n.Black};i[d+8*b]=p,d++}else{for(var S=0;S<parseInt(h);S++)i[d+S+8*b]=null;d+=parseInt(h)}}}catch(w){v.e(w)}finally{v.f()}a="w"===s[1]?n.White:n.Black;var k=s[2];k.includes("K")&&(l.whiteShort=!0),k.includes("Q")&&(l.whiteLong=!0),k.includes("k")&&(l.blackShort=!0),k.includes("q")&&(l.blackLong=!0);var m=s[3];if("-"!==m){var y=m[0],O=m[1];c=y.charCodeAt(0)-65+8*parseInt(O)}var j=s[4];e=parseInt(j);var q=s[5];return{boardState:i,castlingRights:l,currentPlayer:a,enPassantSquare:c,halfMoveClock:e,fullMoves:parseInt(q)}},st=function(t,a){var e,o=(e={},Object(p.a)(e,r.Pawn,100),Object(p.a)(e,r.Bishop,330),Object(p.a)(e,r.Knight,320),Object(p.a)(e,r.Rook,500),Object(p.a)(e,r.Queen,900),Object(p.a)(e,r.King,2e4),e),i=0,l=0;return t.forEach((function(t,e){if(t){var c=[];if(t.color===n.White)switch(t.type){case r.Pawn:c=T;break;case r.Bishop:c=V;break;case r.Knight:c=z;break;case r.Rook:c=J;break;case r.Queen:c=G;break;case r.King:c=X}else switch(t.type){case r.Pawn:c=N;break;case r.Bishop:c=F;break;case r.Knight:c=Y;break;case r.Rook:c=A;break;case r.Queen:c=U;break;case r.King:c=H}var u=o[t.type],s=c[e];(null===t||void 0===t?void 0:t.color)===a?i+=u+s:l+=u+s}})),i-l},ft=d.a.div(R||(R=Object(u.a)(["\n\twidth: 500px;\n\theight: 500px;\n\tbackground-color: green;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(8, 1fr);\n\tgrid-template-rows: repeat(8, 1fr);\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n"]))),dt=d.a.div(I||(I=Object(u.a)(["\n\tposition: relative;\n\tdisplay: grid;\n\tplace-items: center;\n\tgrid-row: ",";\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: ",';\n\tcolor: black;\n\n\t::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\twidth: 85%;\n\t\theight: 85%;\n\t\tborder: 2px solid #5ca099;\n\t\topacity: ',';\n\t\tpointer-events: none;\n\t\tz-index: 2;\n\t}\n\n\t::before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #a8c8a6;\n\t\topacity: ',";\n\t\tpointer-events: none;\n\t\tz-index: 0;\n\t}\n\n\tdiv {\n\t\twidth: 80%;\n\t\theight: 80%;\n\t\tbackground-image: ",";\n\t\tbackground-size: cover;\n\t\tz-index: 1;\n\t}\n"])),(function(t){return t.row}),(function(t){return t.isLight?"#f6edcd":"#f0cf8e"}),(function(t){return t.isMarkedLegal?1:0}),(function(t){return t.isMarkedLastMove?.9:0}),(function(t){return'url("'.concat("/chess-ai","/images/").concat(t.image,'.svg")')})),bt=function(t){if(null==t)return"";switch(t.type){case r.King:return t.color===n.Black?"king_b":"king_w";case r.Queen:return t.color===n.Black?"queen_b":"queen_w";case r.Rook:return t.color===n.Black?"rook_b":"rook_w";case r.Bishop:return t.color===n.Black?"bishop_b":"bishop_w";case r.Knight:return t.color===n.Black?"knight_b":"knight_w";case r.Pawn:return t.color===n.Black?"pawn_b":"pawn_w";default:return""}},vt=function(t){var a=t.gameState,e=t.lastMove,r=t.onMakeMove,n=Object(o.useState)([]),i=Object(s.a)(n,2),l=i[0],c=i[1],u=a.boardState.map((function(t,r){return Object(f.a)(dt,{key:r,isLight:!(Math.floor(r/8)%2!==0?r%2!==0:r%2===0),row:8-Math.floor(r/8),image:bt(t),onDragOver:function(t){return d(t)},onDrop:function(t){return S(t,r)},isMarkedLegal:l.includes(r),isMarkedLastMove:(null===e||void 0===e?void 0:e.fromSquare)===r||(null===e||void 0===e?void 0:e.toSquare)===r},Object(f.a)("span",{style:{position:"absolute",top:"0px",left:"0px"}},r),t?t.color===a.currentPlayer?Object(f.a)("div",{draggable:!0,onDragStart:function(a){return b(a,r,bt(t))},onDragEnd:function(t){return p(t)}}):Object(f.a)("div",null):null)})),d=function(t){t.preventDefault()},b=function(){var t=Object(h.a)(v.a.mark((function t(e,r,n){var o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.currentTarget.style.opacity="0",e.dataTransfer.setData("tilePosition",r.toString()),(o=new Image).src="".concat("/chess-ai","/images/").concat(n,".svg"),e.dataTransfer.setDragImage(o,45,45),i=$(a),c(i.filter((function(t){var a=t.fromSquare;t.toSquare;return a===r})).map((function(t){t.fromSquare;return t.toSquare})));case 7:case"end":return t.stop()}}),t)})));return function(a,e,r){return t.apply(this,arguments)}}(),p=function(t){t.currentTarget.style.opacity="1",c([])},S=function(t,a){if(l.includes(a)){var e={fromSquare:parseInt(t.dataTransfer.getData("tilePosition")),toSquare:a};r(e),c([])}};return Object(f.a)(ft,null,u)},ht=d.a.aside(L||(L=Object(u.a)(["\n\tpadding: 10px;\n\tbackground-color: rgba(0, 0, 0, 0.2);\n\n\tdiv {\n\t\tmargin: 10px 0;\n\t}\n"]))),pt=function(t){var a=t.gameState;return Object(f.a)(ht,null,Object(f.a)("p",null,"Current player:"," ",a.currentPlayer===n.White?"white":"black"),Object(f.a)("div",null,Object(f.a)("h3",null,"Castling rights"),Object(f.a)("h4",null,"White"),Object(f.a)("p",null,"White king side: ",a.castlingRights.whiteShort.toString()),Object(f.a)("p",null,"White queen side: ",a.castlingRights.whiteLong.toString()),Object(f.a)("h4",null,"Black"),Object(f.a)("p",null,"Black king side: ",a.castlingRights.blackShort.toString()),Object(f.a)("p",null,"Black queen side: ",a.castlingRights.blackLong.toString())),Object(f.a)("div",null,Object(f.a)("p",null,"En passant square: ",function(t){for(var a=t.boardState,e=t.currentPlayer,o=t.castlingRights,i=t.enPassantSquare,l=t.halfMoveClock,c=t.fullMoves,u="",s=function(t){var a="";if(null==t)return a;switch(t.type){case r.Pawn:a="p";break;case r.Rook:a="r";break;case r.Knight:a="n";break;case r.Bishop:a="b";break;case r.Queen:a="q";break;case r.King:a="k"}return t.color===n.White&&(a=a.toUpperCase()),a},f=7;f>=0;f--){for(var d=0,b=0;b<8;b++)null==a[b+8*f]?d++:(d>0&&(u+=d.toString()),u+=s(a[b+8*f]),d=0);d>0&&(u+=d.toString()),0!==f&&(u+="/")}return u+=" ",u+=e===n.White?"w":"b",u+=" ",u+=o.whiteShort?"K":"",u+=o.whiteLong?"Q":"",u+=o.blackShort?"k":""," "===(u+=o.blackLong?"q":"")[u.length-1]&&(u+="-"),u+=" ",u+=null==i?"-":String.fromCharCode(i-8*Math.floor(i/8)+65)+(Math.floor(i/8)+1),u+=" ",u+=l+" "+c}(a).split(" ")[3])),Object(f.a)("div",null,Object(f.a)("p",null,"50 move rule counter: ",a.halfMoveClock)),Object(f.a)("div",null,Object(f.a)("p",null,"Full moves: ",a.fullMoves)),Object(f.a)("p",null,"Material advantage:"," ",st(a.boardState,n.White)))},St=Object(f.b)(E||(E=Object(u.a)(["\n\t0% {\n\t\ttransform: translateY(200px);\n\t\topacity: 0;\n\t}\n\t100% {\n\t\ttransform: translateY(0px);\n\t\topacity: 1;\n\t}\n"]))),gt=d.a.div(C||(C=Object(u.a)(["\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tdisplay: flex;\n\tflex-direction: row;\n\tcolumn-gap: 10px;\n\n\tbutton {\n\t\tpadding: 10px;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 100%;\n\t\tbox-shadow: 0px 4px 16px rgba(0, 0, 0, 0.2);\n\t\topacity: 0;\n\t\tanimation: "," 0.4s;\n\t\tanimation-fill-mode: forwards;\n\n\t\timg {\n\t\t\tdisplay: block;\n\t\t\twidth: 35px;\n\t\t\theight: 35px;\n\t\t\tobject-fit: contain;\n\t\t}\n\t}\n"])),St),kt=function(t){t.x,t.y;var a=t.isShowing,e=t.onSelect;return Object(f.a)("div",null,1==a&&Object(f.a)(gt,null,Object(f.a)("button",{style:{animationDelay:"0s"},onClick:function(t){return e(r.Queen)}},Object(f.a)("img",{src:"".concat("/chess-ai","/images/queen_w.svg")})),Object(f.a)("button",{style:{animationDelay:"0.1s"},onClick:function(t){return e(r.Rook)}},Object(f.a)("img",{src:"".concat("/chess-ai","/images/rook_w.svg")})),Object(f.a)("button",{style:{animationDelay:"0.2s"},onClick:function(t){return e(r.Bishop)}},Object(f.a)("img",{src:"".concat("/chess-ai","/images/bishop_w.svg")})),Object(f.a)("button",{style:{animationDelay:"0.3s"},onClick:function(t){return e(r.Knight)}},Object(f.a)("img",{src:"".concat("/chess-ai","/images/knight_w.svg")}))))},mt=Object(f.b)(_||(_=Object(u.a)(["\n\t0% {\n\t\ttransform: translateY(200px);\n\t\topacity: 0;\n\t}\n\t100% {\n\t\ttransform: translateY(0px);\n\t\topacity: 1;\n\t}\n"]))),yt=d.a.div(Q||(Q=Object(u.a)(["\n\tcolumn-gap: 10px;\n\tbackground-color: #fff;\n\tcolor: #000;\n\tpadding: 20px 60px;\n\ttext-align: center;\n\tborder-radius: 6px;\n\tbox-shadow: 0px 4px 32px rgba(0, 0, 0, 0.2);\n\topacity: 0;\n\tanimation: "," 0.4s;\n\tanimation-fill-mode: forwards;\n\n\th3 {\n\t\tmargin-bottom: 10px;\n\t}\n\n\tp {\n\t\tmargin-bottom: 15px;\n\t}\n\n\tbutton {\n\t\tpadding: 15px 25px;\n\t\tbackground-color: #7ee654;\n\t\tfont-weight: bold;\n\t\tborder-radius: 6px;\n\t\tbox-shadow: 0px 4px 16px rgba(0, 0, 0, 0.2);\n\t}\n"])),mt),Ot=function(t){t.x,t.y;var a=t.isShowing,e=t.winner,r=t.onRestart;return Object(f.a)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},1==a&&Object(f.a)(yt,null,Object(f.a)("h3",null,null!==e?"Checkmate":"Stalemate"),Object(f.a)("p",null,null!==e&&"Winner is ".concat(e===n.White?"white":"black")),Object(f.a)("button",{style:{animationDelay:"0.3s"},onClick:function(t){r()}},"Play again")))},jt="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";var qt=d.a.main(D||(D=Object(u.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 3fr 1fr;\n\tpadding: 40px;\n"]))),wt=function(){var t=Object(o.useState)(ut(jt)),a=Object(s.a)(t,2),e=a[0],r=a[1],i=Object(o.useState)(null),l=Object(s.a)(i,2),c=l[0],u=l[1],d=Object(o.useState)(!1),b=Object(s.a)(d,2),v=b[0],h=b[1],p=Object(o.useState)(!1),S=Object(s.a)(p,2),k=S[0],m=S[1],y=Object(o.useState)(null),O=Object(s.a)(y,2),j=O[0],q=O[1],w=Object(o.useState)(null),x=Object(s.a)(w,2),P=x[0],M=x[1];Object(o.useEffect)((function(){0===$(e).length&&(et(e).length>0&&q(e.currentPlayer==n.White?n.Black:n.White),m(!0));if(e.currentPlayer===n.Black){var t=function(t){var a,e=0,r=function t(a,r,n,o){if(e++,0==o)return st(a.boardState,a.currentPlayer);var i,l=$(a),c=Object(g.a)(l);try{for(c.s();!(i=c.n()).done;){var u=i.value,s=-1*t(nt(a,u),-1*n,-1*r,o-1);if(s>=n)return n;s>r&&(r=s)}}catch(f){c.e(f)}finally{c.f()}return r},n=[],o=Number.POSITIVE_INFINITY,i=$(t);a=Date.now();var l,c=Object(g.a)(i);try{for(c.s();!(l=c.n()).done;){var u=l.value,s=r(nt(t,u),Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,3);s<=o&&(o=s,n.push({move:u,score:s}))}}catch(d){c.e(d)}finally{c.f()}n=n.filter((function(t){return t.move,t.score===o}));var f=Date.now()-a;if(console.log("Checking "+e+" moves"),console.log("That took "+f+"ms"),0!=n.length)return n[Math.floor(Math.random()*n.length)].move}(e);if(!t)return void m(!0);B(t)}}),[e]);var B=function(t){var a=nt(e,t);e.currentPlayer==a.currentPlayer&&(M(t.toSquare),h(!0)),r(a),u(t)};return Object(f.a)(qt,null,Object(f.a)(pt,{gameState:e}),Object(f.a)(vt,{gameState:e,lastMove:c,onMakeMove:B}),Object(f.a)(kt,{x:0,y:0,isShowing:v,onSelect:function(t){if(null!=P){var a=ct(e,P,t);r(a),h(!1)}}}),Object(f.a)(Ot,{x:0,y:0,isShowing:k,winner:j,onRestart:function(){r(ut(jt)),u(null),h(!1),m(!1),M(null),q(null)}}))},xt=e(24);c.a.render(Object(xt.jsx)(i.a.StrictMode,{children:Object(xt.jsx)(wt,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.fff71146.chunk.js.map